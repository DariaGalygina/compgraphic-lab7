<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Визуализатор</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>3D Визуализатор</h1>
        </header>
        
        <div class="canvas-container">
            <canvas id="canvas" width="800" height="600"></canvas>
        </div>
        
        <div class="controls">
            <!-- Вкладки -->
            <div class="tabs">
                <button class="tab-button active" data-tab="basic">Базовые фигуры</button>
                <button class="tab-button" data-tab="rotation">Фигуры вращения</button>
                <button class="tab-button" data-tab="surface">Поверхности</button>
            </div>

            <!-- Вкладка базовых фигур -->
            <div id="basic-tab" class="tab-content active">
                <div class="control-group">
                    <h2>Выбор фигуры</h2>
                    <div class="form-group">
                        <select id="figure-select">
                            <option value="1">Тетраэдр</option>
                            <option value="2" selected>Куб (Гексаэдр)</option>
                            <option value="3">Октаэдр</option>
                            <option value="4">Икосаэдр</option>
                            <option value="5">Додекаэдр</option>
                            <option value="loaded">Загруженная модель</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button id="loadObjButton">Загрузить OBJ</button>
                        <button id="saveObjButton">Сохранить OBJ</button>
                    </div>
                </div>
            </div>

            <!-- Вкладка фигур вращения -->
            <div id="rotation-tab" class="tab-content">
                <div class="control-group">
                    <h2>Фигура вращения</h2>
                    <div class="form-group">
                        <label>Образующая (точки x,y,z через запятую, каждая точка с новой строки):</label>
                        <textarea id="profilePoints" rows="6" placeholder="0,0,0
1,0,0
1,1,0
0,1,0"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Ось вращения:</label>
                        <select id="rotationAxis">
                            <option value="x">X</option>
                            <option value="y" selected>Y</option>
                            <option value="z">Z</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Количество разбиений: <span id="slicesValue">12</span></label>
                        <input type="range" id="slices" min="4" max="36" step="2" value="12">
                    </div>
                    <div class="button-group">
                        <button id="createRotationButton">Построить фигуру вращения</button>
                        <button id="saveRotationButton">Сохранить OBJ</button>
                    </div>
                </div>
            </div>

            <!-- Вкладка поверхностей -->
            <div id="surface-tab" class="tab-content">
                <div class="control-group">
                    <h2>Поверхность функции</h2>
                    <div class="form-group">
                        <label>Функция f(x,y):</label>
                        <select id="functionSelect">
                            <option value="paraboloid">z = x² + y² (параболоид)</option>
                            <option value="hyperbolic">z = x² - y² (гиперболический параболоид)</option>
                            <option value="sinc">z = sin(√(x²+y²)) / √(x²+y²)</option>
                            <option value="wave">z = sin(x) * cos(y)</option>
                            <option value="sphere">z = √(1 - x² - y²) (сфера)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Диапазон X: от <input type="number" id="xMin" value="-1" step="0.1"> до <input type="number" id="xMax" value="1" step="0.1"></label>
                    </div>
                    <div class="form-group">
                        <label>Диапазон Y: от <input type="number" id="yMin" value="-1" step="0.1"> до <input type="number" id="yMax" value="1" step="0.1"></label>
                    </div>
                    <div class="form-group">
                        <label>Количество разбиений: <span id="gridSizeValue">20</span></label>
                        <input type="range" id="gridSize" min="5" max="50" step="1" value="20">
                    </div>
                    <div class="button-group">
                        <button id="createSurfaceButton">Построить поверхность</button>
                        <button id="saveSurfaceButton">Сохранить OBJ</button>
                    </div>
                </div>
            </div>

            <!-- Общие элементы управления -->
            <div class="control-group">
                <h2>Проекция</h2>
                <div class="projection-buttons">
                    <button id="perspectiveButton" class="active-button">Перспективная</button>
                    <button id="axonometricButton">Аксонометрическая</button>
                </div>
            </div>

            <div class="control-group">
                <h2>Вращение</h2>
                <div class="form-group">
                    <label>X: <span id="rotateXValue">0°</span></label>
                    <input type="range" id="rotateX" min="0" max="360" step="1" value="0">
                </div>
                <div class="form-group">
                    <label>Y: <span id="rotateYValue">0°</span></label>
                    <input type="range" id="rotateY" min="0" max="360" step="1" value="0">
                </div>
                <div class="form-group">
                    <label>Z: <span id="rotateZValue">0°</span></label>
                    <input type="range" id="rotateZ" min="0" max="360" step="1" value="0">
                </div>
            </div>

            <div class="control-group">
                <h2>Масштаб и смещение</h2>
                <div class="form-group">
                    <label>Масштаб: <span id="scaleValue">1.0</span></label>
                    <input type="range" id="scale" min="0.1" max="5" step="0.1" value="1">
                </div>
                <div class="form-group">
                    <label>Смещение X: <span id="translateXValue">0</span></label>
                    <input type="range" id="translateX" min="-3" max="3" step="0.1" value="0">
                </div>
                <div class="form-group">
                    <label>Смещение Y: <span id="translateYValue">0</span></label>
                    <input type="range" id="translateY" min="-3" max="3" step="0.1" value="0">
                </div>
                <div class="form-group">
                    <label>Смещение Z: <span id="translateZValue">0</span></label>
                    <input type="range" id="translateZ" min="-3" max="3" step="0.1" value="0">
                </div>
            </div>

            <div class="control-group">
                <h2>Отражение</h2>
                <div class="checkbox-group">
                    <input type="checkbox" id="reflectXY">
                    <label for="reflectXY">Относительно XY</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="reflectXZ">
                    <label for="reflectXZ">Относительно XZ</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="reflectYZ">
                    <label for="reflectYZ">Относительно YZ</label>
                </div>
            </div>
        </div>
    </div>

    <!-- Скрытый input для загрузки файлов -->
    <input type="file" id="fileInput" accept=".obj" style="display: none;">
    
    <script src="script.js"></script>
</body>
</html>
